<div class="alert alert-dismissible" ng-class="{'alert-success': message.code === 200, 'alert-danger': message.code !== 200 }" role="alert" ng-show="message.code !== undefined">
    <button type="button" class="close" ng-click="message.code = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    {{ message.message }} 
</div>
<ol class="breadcrumb">
    <li><a ui-sref="administrar">Home</a></li>
    <li>Realizar Pagos</li>
</ol>
<h2>Realizar Pagos</h2>
<hr>
<div class="row">
    <div class="col-sm-6">
        <div class="row">
            <div class="col-sm-4">
                <div class="form-group">
                    <label for="srBuscar" class="control-label">Buscar Recibo</label>
                    <input id="srBuscar" class="form-control" type="search" ng-model="search.text" placeholder="Buscar" autofocus />
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="dtFechaInicio" class="control-label">Fecha de Inicio</label>
                    <input id="dtFechaInicio" class="form-control" type="date" ng-model="search.fecha_inicio" />
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="dtFechaCierre" class="control-label">Fecha de Cierre</label>
                    <input id="dtFechaCierre" class="form-control" type="date" ng-model="search.fecha_cierre" />
                </div>
            </div>
            <div class="col-sm-2">
                <div class="form-group">
                    <label for="sltItemsPerPage" class="control-label">Mostrando</label>
                    <select id="sltItemsPerPage" class="form-control" ng-change="onChangeItemsPerPageServicios()"
                        ng-model="items_per_page_servicios" ng-options="option for option in [10, 50, 100, 150]">
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <scrollable-table watch="recibos" class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th ng-style="{'width': recibos_ws.wCodigo}" sortable-header col="id">Código</th>
                                <th ng-style="{'width': recibos_ws.wTipo}" sortable-header col="id">Tipo</th>
                                <th ng-style="{'width': recibos_ws.wServicio}" sortable-header col="id">Servicio</th>
                                <th ng-style="{'width': recibos_ws.wDetalle}" sortable-header col="id">Detalle</th>
                                <th ng-style="{'width': recibos_ws.wFechaVencimiento}" sortable-header col="fecha_vencimiento">F. de Venc.</th>
                                <th ng-style="{'width': recibos_ws.wMonto}" sortable-header col="monto">Monto</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-hide="!loading_recibos"><td colspan="9">Cargando...</td></tr>
                            <tr ng-show="!loading_recibos && recibos.length === 0"><td colspan="9">No hay registros</td></tr>
                            <tr ng-hide="loading_recibos" ng-class="{'warning': recibo.estado_id === 4, 'danger': recibo.estado_id === 2}" ng-repeat="recibo in recibos" row-id="{{ recibo.id }}">
                                <td ng-style="{'width': recibos_ws.wCodigo}">{{ recibo.id }}</td>
                                <td ng-style="{'width': recibos_ws.wFechaVencimiento}">{{ recibo.fecha_vencimiento }}</td>
                                <td ng-style="{'width': recibos_ws.wFechaPago}">{{ recibo.fecha_pago }}</td>
                                <td ng-style="{'width': recibos_ws.wMonto}">{{ recibo.monto }}</td>
                                <td ng-style="{'width': recibos_ws.wNroRecibo}">{{ recibo.nro_recibo }}</td>
                                <td ng-style="{'width': recibos_ws.wNroDocumento}">{{ recibo.nro_documento }}</td>
                                <td ng-style="{'width': recibos_ws.wAcciones}">
                                    <button ng-show="recibo.estado_id === 4" type="button" class="btn btn-primary btn-sm" ng-click="showRecibosEdit(recibo)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button>
                                    <button ng-show="recibo.estado_id === 4" type="button" class="btn btn-default btn-sm" ng-click="showRecibosPagar(recibo)" title="Pagar"><span class="glyphicon glyphicon-check"></span></button>
                                    <button ng-show="recibo.estado_id === 3" type="button" class="btn btn-warning btn-sm" ng-click="showRecibosCancelar(recibo)" title="Cancelar Pago"><span class="glyphicon glyphicon-remove"></span></button>
                                    <button ng-show="recibo.estado_id === 4" type="button" class="btn btn-danger btn-sm" ng-click="showRecibosDelete(recibo)" title="Eliminar Recibo"><span class="glyphicon glyphicon-remove"></span></button>
                                    <button ng-show="recibo.estado_id === 2" type="button" class="btn btn-default btn-sm" ng-click="showRecibosActivate(recibo)" title="Activar"><span class="glyphicon glyphicon-ok"></span></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </scrollable-table>

                <ul uib-pagination total-items="pagination_recibos.totalItems" first-text="Primero" 
                    last-text="Último" next-text="Siguiente" previous-text="Anterior"
                    items-per-page="pagination_recibos.itemsPerPage" ng-model="page_recibos" 
                    class="pagination-sm" boundary-links="true" force-ellipses="true"
                    ng-change="pageRecibosChanged()"></ul>
            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="row">
            <div class="col-sm-4">
                <div class="form-group">
                    <label for="dtFechaPago">Fecha de Pago</label>
                    <input id="dtFechaPago" class="form-control" type="date" ng-model="fecha_pre"
                        name="reciboFechaPago" required required-message="'Este campo es requerido'" validate-on="blur" />
                </div>
            </div>
            <div class="col-sm-5">
                <div class="form-group">
                    <label for="txtNroDocumento">Nro. Documento</label>
                    <input id="txtNroDocumento" class="form-control" type="text" ng-model="recibo.nro_documento"
                        name="pagoNroDocumento" placeholder="Número de Documento"/>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <button class="btn btn-success form-control" type="button" ng-click="pagarRecibos()"><span class="glyphicon glyphicon-check"></span> Pagar Recibos</button>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <scrollable-table watch="recibos" class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th ng-style="{'width': recibos_ws.wCodigo}" sortable-header col="id">Código</th>
                                <th ng-style="{'width': recibos_ws.wTipo}" sortable-header col="id">Tipo</th>
                                <th ng-style="{'width': recibos_ws.wServicio}" sortable-header col="id">Servicio</th>
                                <th ng-style="{'width': recibos_ws.wDetalle}" sortable-header col="id">Detalle</th>
                                <th ng-style="{'width': recibos_ws.wFechaVencimiento}" sortable-header col="fecha_vencimiento">F. de Venc.</th>
                                <th ng-style="{'width': recibos_ws.wMonto}" sortable-header col="monto">Monto</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-hide="!loading_recibos"><td colspan="9">Cargando...</td></tr>
                            <tr ng-show="!loading_recibos && recibos.length === 0"><td colspan="9">No hay registros</td></tr>
                            <tr ng-hide="loading_recibos" ng-class="{'warning': recibo.estado_id === 4, 'danger': recibo.estado_id === 2}" ng-repeat="recibo in recibos" row-id="{{ recibo.id }}">
                                <td ng-style="{'width': recibos_ws.wCodigo}">{{ recibo.id }}</td>
                                <td ng-style="{'width': recibos_ws.wFechaVencimiento}">{{ recibo.fecha_vencimiento }}</td>
                                <td ng-style="{'width': recibos_ws.wFechaPago}">{{ recibo.fecha_pago }}</td>
                                <td ng-style="{'width': recibos_ws.wMonto}">{{ recibo.monto }}</td>
                                <td ng-style="{'width': recibos_ws.wNroRecibo}">{{ recibo.nro_recibo }}</td>
                                <td ng-style="{'width': recibos_ws.wNroDocumento}">{{ recibo.nro_documento }}</td>
                                <td ng-style="{'width': recibos_ws.wAcciones}">
                                    <button ng-show="recibo.estado_id === 4" type="button" class="btn btn-primary btn-sm" ng-click="showRecibosEdit(recibo)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button>
                                    <button ng-show="recibo.estado_id === 4" type="button" class="btn btn-default btn-sm" ng-click="showRecibosPagar(recibo)" title="Pagar"><span class="glyphicon glyphicon-check"></span></button>
                                    <button ng-show="recibo.estado_id === 3" type="button" class="btn btn-warning btn-sm" ng-click="showRecibosCancelar(recibo)" title="Cancelar Pago"><span class="glyphicon glyphicon-remove"></span></button>
                                    <button ng-show="recibo.estado_id === 4" type="button" class="btn btn-danger btn-sm" ng-click="showRecibosDelete(recibo)" title="Eliminar Recibo"><span class="glyphicon glyphicon-remove"></span></button>
                                    <button ng-show="recibo.estado_id === 2" type="button" class="btn btn-default btn-sm" ng-click="showRecibosActivate(recibo)" title="Activar"><span class="glyphicon glyphicon-ok"></span></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </scrollable-table>
            </div>
        </div>
    </div>
</div>